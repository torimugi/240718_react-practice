# tsconfig.json

```json
{ "compilerOptions": { "target": "es5", "lib": [ "dom", "dom.iterable", "esnext" ], "allowJs": true, "skipLibCheck": true, "esModuleInterop": true, "allowSyntheticDefaultImports": true, "strict": true, "forceConsistentCasingInFileNames": true, "noFallthroughCasesInSwitch": true, "module": "esnext", "moduleResolution": "node", "resolveJsonModule": true, "isolatedModules": true, "noEmit": true, "jsx": "react-jsx" }, "include": [ "src" ] }
```

# project_summary_08041149.md

```md
# tsconfig.json \`\`\`json { "compilerOptions": { "target": "es5", "lib": [ "dom", "dom.iterable", "esnext" ], "allowJs": true, "skipLibCheck": true, "esModuleInterop": true, "allowSyntheticDefaultImports": true, "strict": true, "forceConsistentCasingInFileNames": true, "noFallthroughCasesInSwitch": true, "module": "esnext", "moduleResolution": "node", "resolveJsonModule": true, "isolatedModules": true, "noEmit": true, "jsx": "react-jsx" }, "include": [ "src" ] } \`\`\` # package.json \`\`\`json { "name": "240718_practice", "version": "0.1.0", "private": true, "dependencies": { "@emotion/react": "^11.13.0", "@emotion/styled": "^11.13.0", "@mui/icons-material": "^5.16.4", "@mui/material": "^5.16.4", "@testing-library/jest-dom": "^5.17.0", "@testing-library/react": "^13.4.0", "@testing-library/user-event": "^13.5.0", "@types/jest": "^27.5.2", "@types/node": "^16.18.102", "@types/react": "^18.3.3", "@types/react-dom": "^18.3.0", "date-fns": "^3.6.0", "firebase": "^10.12.4", "react": "^18.3.1", "react-dom": "^18.3.1", "react-router-dom": "^6.25.1", "react-scripts": "5.0.1", "typescript": "^4.9.5", "web-vitals": "^2.1.4" }, "scripts": { "start": "react-scripts start", "build": "react-scripts build", "test": "react-scripts test", "eject": "react-scripts eject" }, "eslintConfig": { "extends": [ "react-app", "react-app/jest" ] }, "browserslist": { "production": [ ">0.2%", "not dead", "not op_mini all" ], "development": [ "last 1 chrome version", "last 1 firefox version", "last 1 safari version" ] } } \`\`\` # firebase-debug.log \`\`\`log [debug] [2024-08-01T01:06:08.219Z] ---------------------------------------------------------------------- [debug] [2024-08-01T01:06:08.223Z] Command: /home/yu/.nvm/versions/node/v21.6.2/bin/node /home/yu/.nvm/versions/node/v21.6.2/bin/firebase init [debug] [2024-08-01T01:06:08.224Z] CLI Version: 13.5.2 [debug] [2024-08-01T01:06:08.224Z] Platform: linux [debug] [2024-08-01T01:06:08.225Z] Node Version: v21.6.2 [debug] [2024-08-01T01:06:08.225Z] Time: Thu Aug 01 2024 10:06:08 GMT+0900 (日本標準時) [debug] [2024-08-01T01:06:08.225Z] ---------------------------------------------------------------------- [debug] [debug] [2024-08-01T01:06:08.255Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"] [debug] [2024-08-01T01:06:08.256Z] > authorizing via signed-in user (takitakiyuchi@gmail.com) [info] ######## #### ######## ######## ######## ### ###### ######## ## ## ## ## ## ## ## ## ## ## ## ###### ## ######## ###### ######## ######### ###### ###### ## ## ## ## ## ## ## ## ## ## ## ## #### ## ## ######## ######## ## ## ###### ######## You're about to initialize a Firebase project in this directory: /home/yu/projects/study/react/240718_react-practice/240718_practice [debug] [2024-08-01T06:07:34.898Z] ---------------------------------------------------------------------- [debug] [2024-08-01T06:07:34.902Z] Command: /home/yu/.nvm/versions/node/v21.6.2/bin/node /home/yu/.nvm/versions/node/v21.6.2/bin/firebase init [debug] [2024-08-01T06:07:34.902Z] CLI Version: 13.5.2 [debug] [2024-08-01T06:07:34.903Z] Platform: linux [debug] [2024-08-01T06:07:34.903Z] Node Version: v21.6.2 [debug] [2024-08-01T06:07:34.903Z] Time: Thu Aug 01 2024 15:07:34 GMT+0900 (日本標準時) [debug] [2024-08-01T06:07:34.904Z] ---------------------------------------------------------------------- [debug] [debug] [2024-08-01T06:07:34.917Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"] [debug] [2024-08-01T06:07:34.918Z] > authorizing via signed-in user (takitakiyuchi@gmail.com) [info] ######## #### ######## ######## ######## ### ###### ######## ## ## ## ## ## ## ## ## ## ## ## ###### ## ######## ###### ######## ######### ###### ###### ## ## ## ## ## ## ## ## ## ## ## ## #### ## ## ######## ######## ## ## ###### ######## You're about to initialize a Firebase project in this directory: /home/yu/projects/study/react/240718_react-practice/240718_practice [debug] [2024-08-02T00:53:39.536Z] ---------------------------------------------------------------------- [debug] [2024-08-02T00:53:39.539Z] Command: /home/yu/.nvm/versions/node/v21.6.2/bin/node /home/yu/.nvm/versions/node/v21.6.2/bin/firebase init [debug] [2024-08-02T00:53:39.539Z] CLI Version: 13.5.2 [debug] [2024-08-02T00:53:39.540Z] Platform: linux [debug] [2024-08-02T00:53:39.540Z] Node Version: v21.6.2 [debug] [2024-08-02T00:53:39.540Z] Time: Fri Aug 02 2024 09:53:39 GMT+0900 (日本標準時) [debug] [2024-08-02T00:53:39.540Z] ---------------------------------------------------------------------- [debug] [debug] [2024-08-02T00:53:39.544Z] >>> [apiv2][query] GET https://firebase-public.firebaseio.com/cli.json [none] [debug] [2024-08-02T00:53:39.602Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"] [debug] [2024-08-02T00:53:39.602Z] > authorizing via signed-in user (takitakiyuchi@gmail.com) [info] ######## #### ######## ######## ######## ### ###### ######## ## ## ## ## ## ## ## ## ## ## ## ###### ## ######## ###### ######## ######### ###### ###### ## ## ## ## ## ## ## ## ## ## ## ## #### ## ## ######## ######## ## ## ###### ######## You're about to initialize a Firebase project in this directory: /home/yu/projects/study/react/240718_react-practice/240718_practice [debug] [2024-08-02T00:53:40.032Z] <<< [apiv2][status] GET https://firebase-public.firebaseio.com/cli.json 200 [debug] [2024-08-02T00:53:40.032Z] <<< [apiv2][body] GET https://firebase-public.firebaseio.com/cli.json {"cloudBuildErrorAfter":1594252800000,"cloudBuildWarnAfter":1590019200000,"defaultNode10After":1594252800000,"minVersion":"3.0.5","node8DeploysDisabledAfter":1613390400000,"node8RuntimeDisabledAfter":1615809600000,"node8WarnAfter":1600128000000} [debug] [2024-08-02T03:53:43.775Z] ---------------------------------------------------------------------- [debug] [2024-08-02T03:53:43.778Z] Command: /home/yu/.nvm/versions/node/v21.6.2/bin/node /home/yu/.nvm/versions/node/v21.6.2/bin/firebase init [debug] [2024-08-02T03:53:43.778Z] CLI Version: 13.5.2 [debug] [2024-08-02T03:53:43.778Z] Platform: linux [debug] [2024-08-02T03:53:43.779Z] Node Version: v21.6.2 [debug] [2024-08-02T03:53:43.779Z] Time: Fri Aug 02 2024 12:53:43 GMT+0900 (日本標準時) [debug] [2024-08-02T03:53:43.779Z] ---------------------------------------------------------------------- [debug] [debug] [2024-08-02T03:53:43.787Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"] [debug] [2024-08-02T03:53:43.788Z] > authorizing via signed-in user (takitakiyuchi@gmail.com) [info] ######## #### ######## ######## ######## ### ###### ######## ## ## ## ## ## ## ## ## ## ## ## ###### ## ######## ###### ######## ######### ###### ###### ## ## ## ## ## ## ## ## ## ## ## ## #### ## ## ######## ######## ## ## ###### ######## You're about to initialize a Firebase project in this directory: /home/yu/projects/study/react/240718_react-practice/240718_practice [debug] [2024-08-02T11:02:57.919Z] Error: setRawMode EIO at ReadStream.setRawMode (node:tty:77:24) at [_setRawMode] [as _setRawMode] (node:internal/readline/interface:374:18) at Interface.close (node:internal/readline/interface:524:24) at ReadStream.ontermend (node:internal/readline/interface:260:10) at ReadStream.emit (node:events:531:35) at ReadStream.emit (node:domain:488:12) at endReadableNT (node:internal/streams/readable:1696:12) at process.processTicksAndRejections (node:internal/process/task_queues:82:21) [error] [error] Error: An unexpected error has occurred. [debug] [2024-08-02T11:02:58.088Z] Error: write EIO at afterWriteDispatched (node:internal/stream_base_commons:160:15) at writeGeneric (node:internal/stream_base_commons:151:3) at Socket._writeGeneric (node:net:952:11) at Socket._write (node:net:964:8) at writeOrBuffer (node:internal/streams/writable:564:12) at _write (node:internal/streams/writable:493:10) at Writable.write (node:internal/streams/writable:502:10) at Console.log (/home/yu/.nvm/versions/node/v21.6.2/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23) at Console._write (/home/yu/.nvm/versions/node/v21.6.2/lib/node_modules/firebase-tools/node_modules/winston-transport/modern.js:103:17) at doWrite (/home/yu/.nvm/versions/node/v21.6.2/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139) [error] [error] Error: An unexpected error has occurred. [debug] [2024-08-02T11:02:58.100Z] Error: write EIO at afterWriteDispatched (node:internal/stream_base_commons:160:15) at writeGeneric (node:internal/stream_base_commons:151:3) at Socket._writeGeneric (node:net:952:11) at Socket._write (node:net:964:8) at writeOrBuffer (node:internal/streams/writable:564:12) at _write (node:internal/streams/writable:493:10) at Writable.write (node:internal/streams/writable:502:10) at Console.log (/home/yu/.nvm/versions/node/v21.6.2/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23) at Console._write (/home/yu/.nvm/versions/node/v21.6.2/lib/node_modules/firebase-tools/node_modules/winston-transport/modern.js:103:17) at doWrite (/home/yu/.nvm/versions/node/v21.6.2/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139) [error] [error] Error: An unexpected error has occurred. [debug] [2024-08-02T11:02:58.132Z] Error: write EIO at afterWriteDispatched (node:internal/stream_base_commons:160:15) at writeGeneric (node:internal/stream_base_commons:151:3) at Socket._writeGeneric (node:net:952:11) at Socket._write (node:net:964:8) at writeOrBuffer (node:internal/streams/writable:564:12) at _write (node:internal/streams/writable:493:10) at Writable.write (node:internal/streams/writable:502:10) at Console.log (/home/yu/.nvm/versions/node/v21.6.2/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23) at Console._write (/home/yu/.nvm/versions/node/v21.6.2/lib/node_modules/firebase-tools/node_modules/winston-transport/modern.js:103:17) at doWrite (/home/yu/.nvm/versions/node/v21.6.2/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139) [error] [error] Error: An unexpected error has occurred. [debug] [2024-08-02T11:02:58.168Z] Error: write EIO at afterWriteDispatched (node:internal/stream_base_commons:160:15) at writeGeneric (node:internal/stream_base_commons:151:3) at Socket._writeGeneric (node:net:952:11) at Socket._write (node:net:964:8) at writeOrBuffer (node:internal/streams/writable:564:12) at _write (node:internal/streams/writable:493:10) at Writable.write (node:internal/streams/writable:502:10) at Console.log (/home/yu/.nvm/versions/node/v21.6.2/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23) at Console._write (/home/yu/.nvm/versions/node/v21.6.2/lib/node_modules/firebase-tools/node_modules/winston-transport/modern.js:103:17) at doWrite (/home/yu/.nvm/versions/node/v21.6.2/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139) [error] [error] Error: An unexpected error has occurred. [debug] [2024-08-02T11:02:58.170Z] Error: write EIO at afterWriteDispatched (node:internal/stream_base_commons:160:15) at writeGeneric (node:internal/stream_base_commons:151:3) at Socket._writeGeneric (node:net:952:11) at Socket._write (node:net:964:8) at writeOrBuffer (node:internal/streams/writable:564:12) at _write (node:internal/streams/writable:493:10) at Writable.write (node:internal/streams/writable:502:10) at Console.log (/home/yu/.nvm/versions/node/v21.6.2/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23) at Console._write (/home/yu/.nvm/versions/node/v21.6.2/lib/node_modules/firebase-tools/node_modules/winston-transport/modern.js:103:17) at doWrite (/home/yu/.nvm/versions/node/v21.6.2/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139) [error] [error] Error: An unexpected error has occurred. [debug] [2024-08-02T11:02:58.215Z] Error: write EIO at afterWriteDispatched (node:internal/stream_base_commons:160:15) at writeGeneric (node:internal/stream_base_commons:151:3) at Socket._writeGeneric (node:net:952:11) at Socket._write (node:net:964:8) at writeOrBuffer (node:internal/streams/writable:564:12) at _write (node:internal/streams/writable:493:10) at Writable.write (node:internal/streams/writable:502:10) at Console.log (/home/yu/.nvm/versions/node/v21.6.2/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23) at Console._write (/home/yu/.nvm/versions/node/v21.6.2/lib/node_modules/firebase-tools/node_modules/winston-transport/modern.js:103:17) at doWrite (/home/yu/.nvm/versions/node/v21.6.2/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139) [error] [error] Error: An unexpected error has occurred. [debug] [2024-08-02T11:02:58.223Z] Error: write EIO at afterWriteDispatched (node:internal/stream_base_commons:160:15) at writeGeneric (node:internal/stream_base_commons:151:3) at Socket._writeGeneric (node:net:952:11) at Socket._write (node:net:964:8) at writeOrBuffer (node:internal/streams/writable:564:12) at _write (node:internal/streams/writable:493:10) at Writable.write (node:internal/streams/writable:502:10) at Console.log (/home/yu/.nvm/versions/node/v21.6.2/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23) at Console._write (/home/yu/.nvm/versions/node/v21.6.2/lib/node_modules/firebase-tools/node_modules/winston-transport/modern.js:103:17) at doWrite (/home/yu/.nvm/versions/node/v21.6.2/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139) [error] [error] Error: An unexpected error has occurred. [debug] [2024-08-03T08:14:18.533Z] ---------------------------------------------------------------------- [debug] [2024-08-03T08:14:18.537Z] Command: /home/yu/.nvm/versions/node/v21.6.2/bin/node /home/yu/.nvm/versions/node/v21.6.2/bin/firebase init [debug] [2024-08-03T08:14:18.538Z] CLI Version: 13.5.2 [debug] [2024-08-03T08:14:18.538Z] Platform: linux [debug] [2024-08-03T08:14:18.538Z] Node Version: v21.6.2 [debug] [2024-08-03T08:14:18.539Z] Time: Sat Aug 03 2024 17:14:18 GMT+0900 (日本標準時) [debug] [2024-08-03T08:14:18.539Z] ---------------------------------------------------------------------- [debug] [debug] [2024-08-03T08:14:18.543Z] >>> [apiv2][query] GET https://firebase-public.firebaseio.com/cli.json [none] [debug] [2024-08-03T08:14:18.598Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"] [debug] [2024-08-03T08:14:18.598Z] > authorizing via signed-in user (takitakiyuchi@gmail.com) [info] ######## #### ######## ######## ######## ### ###### ######## ## ## ## ## ## ## ## ## ## ## ## ###### ## ######## ###### ######## ######### ###### ###### ## ## ## ## ## ## ## ## ## ## ## ## #### ## ## ######## ######## ## ## ###### ######## You're about to initialize a Firebase project in this directory: /home/yu/projects/study/react/240718_react-practice/240718_practice [debug] [2024-08-03T08:14:18.987Z] <<< [apiv2][status] GET https://firebase-public.firebaseio.com/cli.json 200 [debug] [2024-08-03T08:14:18.987Z] <<< [apiv2][body] GET https://firebase-public.firebaseio.com/cli.json {"cloudBuildErrorAfter":1594252800000,"cloudBuildWarnAfter":1590019200000,"defaultNode10After":1594252800000,"minVersion":"3.0.5","node8DeploysDisabledAfter":1613390400000,"node8RuntimeDisabledAfter":1615809600000,"node8WarnAfter":1600128000000} \`\`\` # README.md \`\`\`md # Getting Started with Create React App This project was bootstrapped with [Create React App](https://github.com/facebook/create-react-app). ## Available Scripts In the project directory, you can run: ### `npm start` Runs the app in the development mode.\ Open [http://localhost:3000](http://localhost:3000) to view it in the browser. The page will reload if you make edits.\ You will also see any lint errors in the console. ### `npm test` Launches the test runner in the interactive watch mode.\ See the section about [running tests](https://facebook.github.io/create-react-app/docs/running-tests) for more information. ### `npm run build` Builds the app for production to the `build` folder.\ It correctly bundles React in production mode and optimizes the build for the best performance. The build is minified and the filenames include the hashes.\ Your app is ready to be deployed! See the section about [deployment](https://facebook.github.io/create-react-app/docs/deployment) for more information. ### `npm run eject` **Note: this is a one-way operation. Once you `eject`, you can’t go back!** If you aren’t satisfied with the build tool and configuration choices, you can `eject` at any time. This command will remove the single build dependency from your project. Instead, it will copy all the configuration files and the transitive dependencies (webpack, Babel, ESLint, etc) right into your project so you have full control over them. All of the commands except `eject` will still work, but they will point to the copied scripts so you can tweak them. At this point you’re on your own. You don’t have to ever use `eject`. The curated feature set is suitable for small and middle deployments, and you shouldn’t feel obligated to use this feature. However we understand that this tool wouldn’t be useful if you couldn’t customize it when you are ready for it. ## Learn More You can learn more in the [Create React App documentation](https://facebook.github.io/create-react-app/docs/getting-started). To learn React, check out the [React documentation](https://reactjs.org/). \`\`\` # .gitignore \`\`\` # See https://help.github.com/articles/ignoring-files/ for more about ignoring files. # dependencies /node_modules /.pnp .pnp.js # testing /coverage # production /build # misc .DS_Store .env.local .env.development.local .env.test.local .env.production.local npm-debug.log* yarn-debug.log* yarn-error.log* \`\`\` # src/react-app-env.d.ts \`\`\`ts /// <reference types="react-scripts" /> \`\`\` # src/index.tsx \`\`\`tsx import React from 'react'; import ReactDOM from 'react-dom/client'; import './index.css'; import App from './App'; const root = ReactDOM.createRoot( document.getElementById('root') as HTMLElement ); root.render( <React.StrictMode> <App /> </React.StrictMode> ); \`\`\` # src/index.css \`\`\`css body { margin: 0; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif; -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale; } code { font-family: source-code-pro, Menlo, Monaco, Consolas, 'Courier New', monospace; } \`\`\` # src/firebase.ts \`\`\`ts // Import the functions you need from the SDKs you need import { initializeApp } from "firebase/app"; import { getFirestore } from "firebase/firestore" // TODO: Add SDKs for Firebase products that you want to use // https://firebase.google.com/docs/web/setup#available-libraries // Your web app's Firebase configuration const firebaseConfig = { apiKey: "AIzaSyDHlOpOlbufXBHiiKBLJ0g4v-YZcn8TkAY", authDomain: "householdtypescript-9a43b.firebaseapp.com", projectId: "householdtypescript-9a43b", storageBucket: "householdtypescript-9a43b.appspot.com", messagingSenderId: "631067144029", appId: "1:631067144029:web:503ba7b674fc27dd98c2b4" }; // Initialize Firebase const app = initializeApp(firebaseConfig); const db = getFirestore(app); export { db }; \`\`\` # src/App.tsx \`\`\`tsx import React, { useEffect, useState } from 'react'; import './App.css'; import { Route, BrowserRouter as Router, Routes } from 'react-router-dom'; import HOME from './pages/Home'; import Report from './pages/Report'; import NoMatch from './pages/NoMatch'; import AppLayout from './components/layout/AppLayout'; import { theme } from './theme/theme'; import { ThemeProvider } from '@emotion/react'; import CssBaseline from '@mui/material/CssBaseline'; import { Transaction } from './types/index'; import { collection, getDocs } from "firebase/firestore"; import { db } from "./firebase"; import { format } from 'date-fns'; import { formatMonth } from './utils/formatting'; function App() { const [transactions, setTransactions] = useState<Transaction[]>([]); const [currentMonth, setCurrentMonth] = useState(new Date()); useEffect(() => { const fetchTransactions = async () => { try { const querySnapshot = await getDocs(collection(db, "Transactions")); const transactionsData = querySnapshot.docs.map((doc) => ({ ...doc.data(), id: doc.id, } as Transaction)); setTransactions(transactionsData); console.log("取得したトランザクションデータ:", transactionsData); // トランザクションデータ取得後にログ出力 } catch (err) { if (isFireStoreError(err)) { console.error("Firestoreのエラー:", err); } else { console.error("データ取得時の一般的なエラー:", err); } } }; fetchTransactions(); }, []); const monthlyTransactions = transactions.filter((transaction) => { return transaction.date.startsWith(formatMonth(currentMonth)); }); console.log("現在の月:", currentMonth); // 現在の月をログ出力 console.log("月別トランザクションデータ:", monthlyTransactions); // 月別トランザクションデータをログ出力 return ( <ThemeProvider theme={theme}> <CssBaseline /> <Router> <Routes> <Route path="/" element={<AppLayout />}> <Route index element={<HOME monthlyTransactions={monthlyTransactions} />} /> <Route index element={<HOME monthlyTransactions={monthlyTransactions} />} /> <Route path="/report" element={<Report />} /> <Route path="*" element={<NoMatch />} /> </Route> </Routes> </Router> </ThemeProvider> ); } export default App; function isFireStoreError(err: unknown): err is { code: string, message: string } { return typeof err === "object" && err !== null && "code" in err; } \`\`\` # src/App.css \`\`\`css .App { text-align: center; } .App-logo { height: 40vmin; pointer-events: none; } @media (prefers-reduced-motion: no-preference) { .App-logo { animation: App-logo-spin infinite 20s linear; } } .App-header { background-color: #282c34; min-height: 100vh; display: flex; flex-direction: column; align-items: center; justify-content: center; font-size: calc(10px + 2vmin); color: white; } .App-link { color: #61dafb; } @keyframes App-logo-spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } } \`\`\` # public/robots.txt \`\`\`txt # https://www.robotstxt.org/robotstxt.html User-agent: * Disallow: \`\`\` # public/manifest.json \`\`\`json { "short_name": "React App", "name": "Create React App Sample", "icons": [ { "src": "favicon.ico", "sizes": "64x64 32x32 24x24 16x16", "type": "image/x-icon" }, { "src": "logo192.png", "type": "image/png", "sizes": "192x192" }, { "src": "logo512.png", "type": "image/png", "sizes": "512x512" } ], "start_url": ".", "display": "standalone", "theme_color": "#000000", "background_color": "#ffffff" } \`\`\` # public/logo512.png This is a binary file of the type: Image # public/logo192.png This is a binary file of the type: Image # public/index.html \`\`\`html <!DOCTYPE html> <html lang="en"> <head> <meta charset="utf-8" /> <link rel="icon" href="%PUBLIC_URL%/favicon.ico" /> <meta name="viewport" content="width=device-width, initial-scale=1" /> <meta name="theme-color" content="#000000" /> <meta name="description" content="Web site created using create-react-app" /> <link rel="apple-touch-icon" href="%PUBLIC_URL%/logo192.png" /> <!-- manifest.json provides metadata used when your web app is installed on a user's mobile device or desktop. See https://developers.google.com/web/fundamentals/web-app-manifest/ --> <link rel="manifest" href="%PUBLIC_URL%/manifest.json" /> <link rel="preconnect" href="https://fonts.googleapis.com"> <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin> <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP&display=swap" rel="stylesheet"> <!-- Notice the use of %PUBLIC_URL% in the tags above. It will be replaced with the URL of the `public` folder during the build. Only files inside the `public` folder can be referenced from the HTML. Unlike "/favicon.ico" or "favicon.ico", "%PUBLIC_URL%/favicon.ico" will work correctly both with client-side routing and a non-root public URL. Learn how to configure a non-root public URL by running `npm run build`. --> <title>React App</title> </head> <body> <noscript>You need to enable JavaScript to run this app.</noscript> <div id="root"></div> <!-- This HTML file is a template. If you open it directly in the browser, you will see an empty page. You can add webfonts, meta tags, or analytics to this file. The build step will place the bundled scripts into the <body> tag. To begin the development, run `npm start` or `yarn start`. To create a production bundle, use `npm run build` or `yarn build`. --> </body> </html> \`\`\` # public/favicon.ico This is a binary file of the type: Binary # src/utils/formatting.ts \`\`\`ts import { format } from "date-fns"; export function formatMonth(date: Date):string { return format(date, "yyyy-MM"); } \`\`\` # src/types/index.ts \`\`\`ts export type TransactionType = "income" | "expense"; export type IncomeCategory = "給与" | "副収入" | "お小遣い"; export type ExpenseCategory = "食費" | "日用品" | "住居費" | "交際費" | "娯楽"| "交通費"; export interface Transaction { id: string, date: string, amount: number, content: string, type: TransactionType, category: IncomeCategory | ExpenseCategory; } \`\`\` # src/theme/theme.ts \`\`\`ts import { createTheme, PaletteColor, PaletteColorOptions } from "@mui/material"; import { blue, green, red } from "@mui/material/colors"; declare module "@mui/material/styles" { interface Palette { incomeColor: PaletteColor; expenseColor: PaletteColor; balanceColor: PaletteColor; } interface PaletteOptions { incomeColor: PaletteColorOptions; expenseColor: PaletteColorOptions; balanceColor: PaletteColorOptions; } } export const theme = createTheme({ typography: { fontFamily: 'Noto Sans JP, Roboto, "Helvetica Neue", Arial, sans-serif' }, palette: { // 収入用の色を定義 incomeColor: { main: blue[500], light:blue[100], dark:blue[700] }, // 支出用の色を定義 expenseColor: { main: red[500], light:red[100], dark:red[700] }, // 残高用の色を定義 balanceColor: { main: green[500], light:green[100], dark:green[700] } } }) \`\`\` # src/pages/Report.tsx \`\`\`tsx import React from 'react' const Report = () => { return ( <div>Report</div> ) } export default Report \`\`\` # src/pages/NoMatch.tsx \`\`\`tsx import React from 'react' const NoMatch = () => { return ( <div>このページはありません</div> ) } export default NoMatch \`\`\` # src/pages/Home.tsx \`\`\`tsx import { Box } from '@mui/material' import React from 'react' import MonthlySummary from '../components/MonthlySummary' import Calendar from '../components/Calendar' import TransactionMenu from '../components/TransactionMenu' import TransactionForm from '../components/TransactionForm' import { Transaction } from '../types' interface HomeProps { monthlyTransactions: Transaction[], } const Home = ({monthlyTransactions}: HomeProps) => { return ( <Box sx={{display: "flex"}}> {/* 左側コンテンツ */} <Box sx={{flexGrow: 1}}> <MonthlySummary monthlyTransactions={monthlyTransactions}/> <Calendar /> </Box> {/* 右側コンテンツ */} <Box> <TransactionMenu /> <TransactionForm /> </Box> </Box> ) } export default Home \`\`\` # src/components/TransactionMenu.tsx \`\`\`tsx import React from 'react' const TransactionMenu = () => { return ( <div>TransactionMenu</div> ) } export default TransactionMenu \`\`\` # src/components/TransactionForm.tsx \`\`\`tsx import React from 'react' const TransactionForm = () => { return ( <div>TransactionForm</div> ) } export default TransactionForm \`\`\` # src/components/MonthlySummary.tsx \`\`\`tsx import { Card, CardContent, Grid, Stack, Typography } from '@mui/material' import React from 'react' import ArrowUpwardIcon from '@mui/icons-material/ArrowUpward'; import ArrowDownwardIcon from '@mui/icons-material/ArrowDownward'; import AccountBalanceIcon from '@mui/icons-material/AccountBalance'; import { Transaction } from '../types'; interface MonthlySummaryProps { monthlyTransactions: Transaction[], } const MonthlySummary = ({monthlyTransactions}: MonthlySummaryProps) => { console.log(monthlyTransactions); return ( <Grid container spacing={{ xs: 1, sm: 2, md: 3, lg: 4 }}> {/* 収入 */} <Grid item xs={4} md={4} display={"flex"} flexDirection={"column"}> <Card sx={{ bgcolor: (theme) => theme.palette.incomeColor.main, color: "white", borderRadius: "10px", flexGrow: 1, }} > <CardContent sx={{ padding: { xs: 1, sm: 2 }}}> <Stack direction={"row"}> <ArrowDownwardIcon sx={{ fontSize: "2rem" }}/> <Typography>収入</Typography> </Stack> <Typography textAlign={"right"} variant="h5" sx={{ wordBreak: "break-word", fontSize: { xs: ".8rem", sm: "1rem", md: "1.2rem" } }} > ¥300</Typography> </CardContent> </Card> </Grid> {/* 支出 */} <Grid item xs={4} md={4} display={"flex"} flexDirection={"column"}> <Card sx={{ bgcolor: (theme) => theme.palette.expenseColor.main, color: "white", borderRadius: "10px", flexGrow: 1, }} > <CardContent sx={{padding: {xs: 1, sm: 2}}}> <Stack direction={"row"}> <ArrowUpwardIcon sx={{ fontSize: "2rem" }}/> <Typography>支出</Typography> </Stack> <Typography textAlign={"right"} variant="h5" sx={{ wordBreak: "break-word", fontSize: { xs: ".8rem", sm: "1rem", md: "1.2rem" } }} > ¥300</Typography> </CardContent> </Card> </Grid> {/* 残高 */} <Grid item xs={4} md={4} display={"flex"} flexDirection={"column"}> <Card sx={{ bgcolor: (theme) => theme.palette.balanceColor.main, color: "white", borderRadius: "10px", flexGrow: 1, }} > <CardContent sx={{ padding: { xs: 1, sm: 2 }}}> <Stack direction={"row"}> <AccountBalanceIcon sx={{ fontSize: "2rem" }} /> <Typography>残高</Typography> </Stack> <Typography textAlign={"right"} variant="h5" sx={{ wordBreak: "break-word", fontSize: { xs: ".8rem", sm: "1rem", md: "1.2rem" } }} > ¥300</Typography> </CardContent> </Card> </Grid> </Grid> ) } export default MonthlySummary \`\`\` # src/components/Calendar.tsx \`\`\`tsx import React from 'react' const Calendar = () => { return ( <div>Calendar</div> ) } export default Calendar \`\`\` # src/components/layout/AppLayout.tsx \`\`\`tsx import * as React from 'react'; import AppBar from '@mui/material/AppBar'; import Box from '@mui/material/Box'; import CssBaseline from '@mui/material/CssBaseline'; import Divider from '@mui/material/Divider'; import Drawer from '@mui/material/Drawer'; import IconButton from '@mui/material/IconButton'; import List from '@mui/material/List'; import ListItem from '@mui/material/ListItem'; import ListItemButton from '@mui/material/ListItemButton'; import ListItemIcon from '@mui/material/ListItemIcon'; import ListItemText from '@mui/material/ListItemText'; import MenuIcon from '@mui/icons-material/Menu'; import Toolbar from '@mui/material/Toolbar'; import Typography from '@mui/material/Typography'; import { Outlet } from 'react-router-dom'; import SideBar from '../common/SideBar' const drawerWidth = 240; export default function AppLayout() { const [mobileOpen, setMobileOpen] = React.useState(false); const [isClosing, setIsClosing] = React.useState(false); const handleDrawerClose = () => { setIsClosing(true); setMobileOpen(false); }; const handleDrawerTransitionEnd = () => { setIsClosing(false); }; const handleDrawerToggle = () => { if (!isClosing) { setMobileOpen(!mobileOpen); } }; return ( <Box sx={{ display: 'flex', bgcolor: (theme) =>theme.palette.grey[100], minHeight: "100vh"}}> <CssBaseline /> {/* {ヘッダー} */} <AppBar position="fixed" sx={{ width: { md: `calc(100% - ${drawerWidth}px)` }, ml: { md: `${drawerWidth}px` }, }} > <Toolbar> <IconButton color="inherit" aria-label="open drawer" edge="start" onClick={handleDrawerToggle} sx={{ mr: 2, display: { md: 'none' } }} > <MenuIcon /> </IconButton> <Typography variant="h6" noWrap component="div"> TypeScript × React 家計簿 </Typography> </Toolbar> </AppBar> {/* サイドバー */} <SideBar drawerWidth={drawerWidth} mobileOpen={mobileOpen} handleDrawerToggle={handleDrawerToggle} /> {/* メインコンテンツ */} <Box component="main" sx={{ flexGrow: 1, p: 3, width: { md: `calc(100% - ${drawerWidth}px)` } }} > <Toolbar /> <Outlet /> </Box> </Box> ); } \`\`\` # src/components/common/SideBar.tsx \`\`\`tsx import { Box, Divider, Drawer, List, ListItem, ListItemButton, ListItemIcon, ListItemText, Toolbar } from '@mui/material' import React, { CSSProperties } from 'react' import InboxIcon from '@mui/icons-material/MoveToInbox'; import MailIcon from '@mui/icons-material/Mail'; import OtherHousesIcon from '@mui/icons-material/OtherHouses'; import BarChartIcon from '@mui/icons-material/BarChart'; import { NavLink } from 'react-router-dom'; interface SidebarProps { drawerWidth: number, mobileOpen: boolean, handleDrawerToggle: () => void, } interface menuItem { text:string, path:string, icon:React.ComponentType, } const SideBar = ({drawerWidth,mobileOpen,handleDrawerToggle}:SidebarProps) => { const MenuItems:menuItem[] = [ {text: "Home", path: "/", icon: OtherHousesIcon}, {text: "Report", path: "report", icon: BarChartIcon} ] const baseLinkStyle :CSSProperties = { textDecoration: "none", color: "inherit", display: "block" } const activeLinkStyle :CSSProperties = { backgroundColor: "rgba(0, 0, 0, 0.08)" } const drawer = ( <div> <Toolbar /> <Divider /> <List> {MenuItems.map((item, index) => ( <NavLink key={index} to={item.path} style={({isActive}) => { console.log("選択されたメニューは", item.text, isActive) return{ ...baseLinkStyle, ...(isActive ? activeLinkStyle: {}) } }}> <ListItem key={index} disablePadding> <ListItemButton> <ListItemIcon> {/* {index % 2 === 0 ? <InboxIcon /> : <MailIcon />} */} <item.icon /> </ListItemIcon> <ListItemText primary={item.text} /> </ListItemButton> </ListItem> </NavLink> ))} </List> </div> ); return ( <Box component="nav" sx={{ width: { md: drawerWidth }, flexShrink: { md: 0 } }} aria-label="mailbox folders" > {/* モバイル用 */} <Drawer variant="temporary" open={mobileOpen} onClose={handleDrawerToggle} ModalProps={{ keepMounted: true, // Better open performance on mobile. }} sx={{ display: { xs: 'block', md: 'none' }, '& .MuiDrawer-paper': { boxSizing: 'border-box', width: drawerWidth }, }} > {drawer} </Drawer> {/* PC用 */} <Drawer variant="permanent" sx={{ display: { xs: 'none', md: 'block' }, '& .MuiDrawer-paper': { boxSizing: 'border-box', width: drawerWidth }, }} open > {drawer} </Drawer> </Box> ) } export default SideBar \`\`\`
```

# package.json

```json
{ "name": "240718_practice", "version": "0.1.0", "private": true, "dependencies": { "@emotion/react": "^11.13.0", "@emotion/styled": "^11.13.0", "@mui/icons-material": "^5.16.4", "@mui/material": "^5.16.4", "@testing-library/jest-dom": "^5.17.0", "@testing-library/react": "^13.4.0", "@testing-library/user-event": "^13.5.0", "@types/jest": "^27.5.2", "@types/node": "^16.18.102", "@types/react": "^18.3.3", "@types/react-dom": "^18.3.0", "date-fns": "^3.6.0", "firebase": "^10.12.4", "react": "^18.3.1", "react-dom": "^18.3.1", "react-router-dom": "^6.25.1", "react-scripts": "5.0.1", "typescript": "^4.9.5", "web-vitals": "^2.1.4" }, "scripts": { "start": "react-scripts start", "build": "react-scripts build", "test": "react-scripts test", "eject": "react-scripts eject" }, "eslintConfig": { "extends": [ "react-app", "react-app/jest" ] }, "browserslist": { "production": [ ">0.2%", "not dead", "not op_mini all" ], "development": [ "last 1 chrome version", "last 1 firefox version", "last 1 safari version" ] } }
```

# firebase-debug.log

```log
[debug] [2024-08-01T01:06:08.219Z] ---------------------------------------------------------------------- [debug] [2024-08-01T01:06:08.223Z] Command: /home/yu/.nvm/versions/node/v21.6.2/bin/node /home/yu/.nvm/versions/node/v21.6.2/bin/firebase init [debug] [2024-08-01T01:06:08.224Z] CLI Version: 13.5.2 [debug] [2024-08-01T01:06:08.224Z] Platform: linux [debug] [2024-08-01T01:06:08.225Z] Node Version: v21.6.2 [debug] [2024-08-01T01:06:08.225Z] Time: Thu Aug 01 2024 10:06:08 GMT+0900 (日本標準時) [debug] [2024-08-01T01:06:08.225Z] ---------------------------------------------------------------------- [debug] [debug] [2024-08-01T01:06:08.255Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"] [debug] [2024-08-01T01:06:08.256Z] > authorizing via signed-in user (takitakiyuchi@gmail.com) [info] ######## #### ######## ######## ######## ### ###### ######## ## ## ## ## ## ## ## ## ## ## ## ###### ## ######## ###### ######## ######### ###### ###### ## ## ## ## ## ## ## ## ## ## ## ## #### ## ## ######## ######## ## ## ###### ######## You're about to initialize a Firebase project in this directory: /home/yu/projects/study/react/240718_react-practice/240718_practice [debug] [2024-08-01T06:07:34.898Z] ---------------------------------------------------------------------- [debug] [2024-08-01T06:07:34.902Z] Command: /home/yu/.nvm/versions/node/v21.6.2/bin/node /home/yu/.nvm/versions/node/v21.6.2/bin/firebase init [debug] [2024-08-01T06:07:34.902Z] CLI Version: 13.5.2 [debug] [2024-08-01T06:07:34.903Z] Platform: linux [debug] [2024-08-01T06:07:34.903Z] Node Version: v21.6.2 [debug] [2024-08-01T06:07:34.903Z] Time: Thu Aug 01 2024 15:07:34 GMT+0900 (日本標準時) [debug] [2024-08-01T06:07:34.904Z] ---------------------------------------------------------------------- [debug] [debug] [2024-08-01T06:07:34.917Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"] [debug] [2024-08-01T06:07:34.918Z] > authorizing via signed-in user (takitakiyuchi@gmail.com) [info] ######## #### ######## ######## ######## ### ###### ######## ## ## ## ## ## ## ## ## ## ## ## ###### ## ######## ###### ######## ######### ###### ###### ## ## ## ## ## ## ## ## ## ## ## ## #### ## ## ######## ######## ## ## ###### ######## You're about to initialize a Firebase project in this directory: /home/yu/projects/study/react/240718_react-practice/240718_practice [debug] [2024-08-02T00:53:39.536Z] ---------------------------------------------------------------------- [debug] [2024-08-02T00:53:39.539Z] Command: /home/yu/.nvm/versions/node/v21.6.2/bin/node /home/yu/.nvm/versions/node/v21.6.2/bin/firebase init [debug] [2024-08-02T00:53:39.539Z] CLI Version: 13.5.2 [debug] [2024-08-02T00:53:39.540Z] Platform: linux [debug] [2024-08-02T00:53:39.540Z] Node Version: v21.6.2 [debug] [2024-08-02T00:53:39.540Z] Time: Fri Aug 02 2024 09:53:39 GMT+0900 (日本標準時) [debug] [2024-08-02T00:53:39.540Z] ---------------------------------------------------------------------- [debug] [debug] [2024-08-02T00:53:39.544Z] >>> [apiv2][query] GET https://firebase-public.firebaseio.com/cli.json [none] [debug] [2024-08-02T00:53:39.602Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"] [debug] [2024-08-02T00:53:39.602Z] > authorizing via signed-in user (takitakiyuchi@gmail.com) [info] ######## #### ######## ######## ######## ### ###### ######## ## ## ## ## ## ## ## ## ## ## ## ###### ## ######## ###### ######## ######### ###### ###### ## ## ## ## ## ## ## ## ## ## ## ## #### ## ## ######## ######## ## ## ###### ######## You're about to initialize a Firebase project in this directory: /home/yu/projects/study/react/240718_react-practice/240718_practice [debug] [2024-08-02T00:53:40.032Z] <<< [apiv2][status] GET https://firebase-public.firebaseio.com/cli.json 200 [debug] [2024-08-02T00:53:40.032Z] <<< [apiv2][body] GET https://firebase-public.firebaseio.com/cli.json {"cloudBuildErrorAfter":1594252800000,"cloudBuildWarnAfter":1590019200000,"defaultNode10After":1594252800000,"minVersion":"3.0.5","node8DeploysDisabledAfter":1613390400000,"node8RuntimeDisabledAfter":1615809600000,"node8WarnAfter":1600128000000} [debug] [2024-08-02T03:53:43.775Z] ---------------------------------------------------------------------- [debug] [2024-08-02T03:53:43.778Z] Command: /home/yu/.nvm/versions/node/v21.6.2/bin/node /home/yu/.nvm/versions/node/v21.6.2/bin/firebase init [debug] [2024-08-02T03:53:43.778Z] CLI Version: 13.5.2 [debug] [2024-08-02T03:53:43.778Z] Platform: linux [debug] [2024-08-02T03:53:43.779Z] Node Version: v21.6.2 [debug] [2024-08-02T03:53:43.779Z] Time: Fri Aug 02 2024 12:53:43 GMT+0900 (日本標準時) [debug] [2024-08-02T03:53:43.779Z] ---------------------------------------------------------------------- [debug] [debug] [2024-08-02T03:53:43.787Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"] [debug] [2024-08-02T03:53:43.788Z] > authorizing via signed-in user (takitakiyuchi@gmail.com) [info] ######## #### ######## ######## ######## ### ###### ######## ## ## ## ## ## ## ## ## ## ## ## ###### ## ######## ###### ######## ######### ###### ###### ## ## ## ## ## ## ## ## ## ## ## ## #### ## ## ######## ######## ## ## ###### ######## You're about to initialize a Firebase project in this directory: /home/yu/projects/study/react/240718_react-practice/240718_practice [debug] [2024-08-02T11:02:57.919Z] Error: setRawMode EIO at ReadStream.setRawMode (node:tty:77:24) at [_setRawMode] [as _setRawMode] (node:internal/readline/interface:374:18) at Interface.close (node:internal/readline/interface:524:24) at ReadStream.ontermend (node:internal/readline/interface:260:10) at ReadStream.emit (node:events:531:35) at ReadStream.emit (node:domain:488:12) at endReadableNT (node:internal/streams/readable:1696:12) at process.processTicksAndRejections (node:internal/process/task_queues:82:21) [error] [error] Error: An unexpected error has occurred. [debug] [2024-08-02T11:02:58.088Z] Error: write EIO at afterWriteDispatched (node:internal/stream_base_commons:160:15) at writeGeneric (node:internal/stream_base_commons:151:3) at Socket._writeGeneric (node:net:952:11) at Socket._write (node:net:964:8) at writeOrBuffer (node:internal/streams/writable:564:12) at _write (node:internal/streams/writable:493:10) at Writable.write (node:internal/streams/writable:502:10) at Console.log (/home/yu/.nvm/versions/node/v21.6.2/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23) at Console._write (/home/yu/.nvm/versions/node/v21.6.2/lib/node_modules/firebase-tools/node_modules/winston-transport/modern.js:103:17) at doWrite (/home/yu/.nvm/versions/node/v21.6.2/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139) [error] [error] Error: An unexpected error has occurred. [debug] [2024-08-02T11:02:58.100Z] Error: write EIO at afterWriteDispatched (node:internal/stream_base_commons:160:15) at writeGeneric (node:internal/stream_base_commons:151:3) at Socket._writeGeneric (node:net:952:11) at Socket._write (node:net:964:8) at writeOrBuffer (node:internal/streams/writable:564:12) at _write (node:internal/streams/writable:493:10) at Writable.write (node:internal/streams/writable:502:10) at Console.log (/home/yu/.nvm/versions/node/v21.6.2/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23) at Console._write (/home/yu/.nvm/versions/node/v21.6.2/lib/node_modules/firebase-tools/node_modules/winston-transport/modern.js:103:17) at doWrite (/home/yu/.nvm/versions/node/v21.6.2/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139) [error] [error] Error: An unexpected error has occurred. [debug] [2024-08-02T11:02:58.132Z] Error: write EIO at afterWriteDispatched (node:internal/stream_base_commons:160:15) at writeGeneric (node:internal/stream_base_commons:151:3) at Socket._writeGeneric (node:net:952:11) at Socket._write (node:net:964:8) at writeOrBuffer (node:internal/streams/writable:564:12) at _write (node:internal/streams/writable:493:10) at Writable.write (node:internal/streams/writable:502:10) at Console.log (/home/yu/.nvm/versions/node/v21.6.2/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23) at Console._write (/home/yu/.nvm/versions/node/v21.6.2/lib/node_modules/firebase-tools/node_modules/winston-transport/modern.js:103:17) at doWrite (/home/yu/.nvm/versions/node/v21.6.2/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139) [error] [error] Error: An unexpected error has occurred. [debug] [2024-08-02T11:02:58.168Z] Error: write EIO at afterWriteDispatched (node:internal/stream_base_commons:160:15) at writeGeneric (node:internal/stream_base_commons:151:3) at Socket._writeGeneric (node:net:952:11) at Socket._write (node:net:964:8) at writeOrBuffer (node:internal/streams/writable:564:12) at _write (node:internal/streams/writable:493:10) at Writable.write (node:internal/streams/writable:502:10) at Console.log (/home/yu/.nvm/versions/node/v21.6.2/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23) at Console._write (/home/yu/.nvm/versions/node/v21.6.2/lib/node_modules/firebase-tools/node_modules/winston-transport/modern.js:103:17) at doWrite (/home/yu/.nvm/versions/node/v21.6.2/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139) [error] [error] Error: An unexpected error has occurred. [debug] [2024-08-02T11:02:58.170Z] Error: write EIO at afterWriteDispatched (node:internal/stream_base_commons:160:15) at writeGeneric (node:internal/stream_base_commons:151:3) at Socket._writeGeneric (node:net:952:11) at Socket._write (node:net:964:8) at writeOrBuffer (node:internal/streams/writable:564:12) at _write (node:internal/streams/writable:493:10) at Writable.write (node:internal/streams/writable:502:10) at Console.log (/home/yu/.nvm/versions/node/v21.6.2/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23) at Console._write (/home/yu/.nvm/versions/node/v21.6.2/lib/node_modules/firebase-tools/node_modules/winston-transport/modern.js:103:17) at doWrite (/home/yu/.nvm/versions/node/v21.6.2/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139) [error] [error] Error: An unexpected error has occurred. [debug] [2024-08-02T11:02:58.215Z] Error: write EIO at afterWriteDispatched (node:internal/stream_base_commons:160:15) at writeGeneric (node:internal/stream_base_commons:151:3) at Socket._writeGeneric (node:net:952:11) at Socket._write (node:net:964:8) at writeOrBuffer (node:internal/streams/writable:564:12) at _write (node:internal/streams/writable:493:10) at Writable.write (node:internal/streams/writable:502:10) at Console.log (/home/yu/.nvm/versions/node/v21.6.2/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23) at Console._write (/home/yu/.nvm/versions/node/v21.6.2/lib/node_modules/firebase-tools/node_modules/winston-transport/modern.js:103:17) at doWrite (/home/yu/.nvm/versions/node/v21.6.2/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139) [error] [error] Error: An unexpected error has occurred. [debug] [2024-08-02T11:02:58.223Z] Error: write EIO at afterWriteDispatched (node:internal/stream_base_commons:160:15) at writeGeneric (node:internal/stream_base_commons:151:3) at Socket._writeGeneric (node:net:952:11) at Socket._write (node:net:964:8) at writeOrBuffer (node:internal/streams/writable:564:12) at _write (node:internal/streams/writable:493:10) at Writable.write (node:internal/streams/writable:502:10) at Console.log (/home/yu/.nvm/versions/node/v21.6.2/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23) at Console._write (/home/yu/.nvm/versions/node/v21.6.2/lib/node_modules/firebase-tools/node_modules/winston-transport/modern.js:103:17) at doWrite (/home/yu/.nvm/versions/node/v21.6.2/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139) [error] [error] Error: An unexpected error has occurred. [debug] [2024-08-03T08:14:18.533Z] ---------------------------------------------------------------------- [debug] [2024-08-03T08:14:18.537Z] Command: /home/yu/.nvm/versions/node/v21.6.2/bin/node /home/yu/.nvm/versions/node/v21.6.2/bin/firebase init [debug] [2024-08-03T08:14:18.538Z] CLI Version: 13.5.2 [debug] [2024-08-03T08:14:18.538Z] Platform: linux [debug] [2024-08-03T08:14:18.538Z] Node Version: v21.6.2 [debug] [2024-08-03T08:14:18.539Z] Time: Sat Aug 03 2024 17:14:18 GMT+0900 (日本標準時) [debug] [2024-08-03T08:14:18.539Z] ---------------------------------------------------------------------- [debug] [debug] [2024-08-03T08:14:18.543Z] >>> [apiv2][query] GET https://firebase-public.firebaseio.com/cli.json [none] [debug] [2024-08-03T08:14:18.598Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"] [debug] [2024-08-03T08:14:18.598Z] > authorizing via signed-in user (takitakiyuchi@gmail.com) [info] ######## #### ######## ######## ######## ### ###### ######## ## ## ## ## ## ## ## ## ## ## ## ###### ## ######## ###### ######## ######### ###### ###### ## ## ## ## ## ## ## ## ## ## ## ## #### ## ## ######## ######## ## ## ###### ######## You're about to initialize a Firebase project in this directory: /home/yu/projects/study/react/240718_react-practice/240718_practice [debug] [2024-08-03T08:14:18.987Z] <<< [apiv2][status] GET https://firebase-public.firebaseio.com/cli.json 200 [debug] [2024-08-03T08:14:18.987Z] <<< [apiv2][body] GET https://firebase-public.firebaseio.com/cli.json {"cloudBuildErrorAfter":1594252800000,"cloudBuildWarnAfter":1590019200000,"defaultNode10After":1594252800000,"minVersion":"3.0.5","node8DeploysDisabledAfter":1613390400000,"node8RuntimeDisabledAfter":1615809600000,"node8WarnAfter":1600128000000} [debug] [2024-08-04T03:29:23.459Z] Error: setRawMode EIO at ReadStream.setRawMode (node:tty:77:24) at [_setRawMode] [as _setRawMode] (node:internal/readline/interface:374:18) at Interface.close (node:internal/readline/interface:524:24) at ReadStream.ontermend (node:internal/readline/interface:260:10) at ReadStream.emit (node:events:531:35) at ReadStream.emit (node:domain:488:12) at endReadableNT (node:internal/streams/readable:1696:12) at process.processTicksAndRejections (node:internal/process/task_queues:82:21) [error] [error] Error: An unexpected error has occurred. [debug] [2024-08-04T03:29:23.587Z] Error: write EIO at afterWriteDispatched (node:internal/stream_base_commons:160:15) at writeGeneric (node:internal/stream_base_commons:151:3) at Socket._writeGeneric (node:net:952:11) at Socket._write (node:net:964:8) at writeOrBuffer (node:internal/streams/writable:564:12) at _write (node:internal/streams/writable:493:10) at Writable.write (node:internal/streams/writable:502:10) at Console.log (/home/yu/.nvm/versions/node/v21.6.2/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23) at Console._write (/home/yu/.nvm/versions/node/v21.6.2/lib/node_modules/firebase-tools/node_modules/winston-transport/modern.js:103:17) at doWrite (/home/yu/.nvm/versions/node/v21.6.2/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139) [error] [error] Error: An unexpected error has occurred. [debug] [2024-08-04T03:29:23.604Z] Error: write EIO at afterWriteDispatched (node:internal/stream_base_commons:160:15) at writeGeneric (node:internal/stream_base_commons:151:3) at Socket._writeGeneric (node:net:952:11) at Socket._write (node:net:964:8) at writeOrBuffer (node:internal/streams/writable:564:12) at _write (node:internal/streams/writable:493:10) at Writable.write (node:internal/streams/writable:502:10) at Console.log (/home/yu/.nvm/versions/node/v21.6.2/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23) at Console._write (/home/yu/.nvm/versions/node/v21.6.2/lib/node_modules/firebase-tools/node_modules/winston-transport/modern.js:103:17) at doWrite (/home/yu/.nvm/versions/node/v21.6.2/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139) [error] [error] Error: An unexpected error has occurred. [debug] [2024-08-04T03:29:23.607Z] Error: write EIO at afterWriteDispatched (node:internal/stream_base_commons:160:15) at writeGeneric (node:internal/stream_base_commons:151:3) at Socket._writeGeneric (node:net:952:11) at Socket._write (node:net:964:8) at writeOrBuffer (node:internal/streams/writable:564:12) at _write (node:internal/streams/writable:493:10) at Writable.write (node:internal/streams/writable:502:10) at Console.log (/home/yu/.nvm/versions/node/v21.6.2/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23) at Console._write (/home/yu/.nvm/versions/node/v21.6.2/lib/node_modules/firebase-tools/node_modules/winston-transport/modern.js:103:17) at doWrite (/home/yu/.nvm/versions/node/v21.6.2/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139) [error] [error] Error: An unexpected error has occurred. [debug] [2024-08-04T03:29:23.613Z] Error: write EIO at afterWriteDispatched (node:internal/stream_base_commons:160:15) at writeGeneric (node:internal/stream_base_commons:151:3) at Socket._writeGeneric (node:net:952:11) at Socket._write (node:net:964:8) at writeOrBuffer (node:internal/streams/writable:564:12) at _write (node:internal/streams/writable:493:10) at Writable.write (node:internal/streams/writable:502:10) at Console.log (/home/yu/.nvm/versions/node/v21.6.2/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23) at Console._write (/home/yu/.nvm/versions/node/v21.6.2/lib/node_modules/firebase-tools/node_modules/winston-transport/modern.js:103:17) at doWrite (/home/yu/.nvm/versions/node/v21.6.2/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139) [error] [error] Error: An unexpected error has occurred. [debug] [2024-08-04T03:29:23.632Z] Error: write EIO at afterWriteDispatched (node:internal/stream_base_commons:160:15) at writeGeneric (node:internal/stream_base_commons:151:3) at Socket._writeGeneric (node:net:952:11) at Socket._write (node:net:964:8) at writeOrBuffer (node:internal/streams/writable:564:12) at _write (node:internal/streams/writable:493:10) at Writable.write (node:internal/streams/writable:502:10) at Console.log (/home/yu/.nvm/versions/node/v21.6.2/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23) at Console._write (/home/yu/.nvm/versions/node/v21.6.2/lib/node_modules/firebase-tools/node_modules/winston-transport/modern.js:103:17) at doWrite (/home/yu/.nvm/versions/node/v21.6.2/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139) [error] [error] Error: An unexpected error has occurred. [debug] [2024-08-04T03:29:23.634Z] Error: write EIO at afterWriteDispatched (node:internal/stream_base_commons:160:15) at writeGeneric (node:internal/stream_base_commons:151:3) at Socket._writeGeneric (node:net:952:11) at Socket._write (node:net:964:8) at writeOrBuffer (node:internal/streams/writable:564:12) at _write (node:internal/streams/writable:493:10) at Writable.write (node:internal/streams/writable:502:10) at Console.log (/home/yu/.nvm/versions/node/v21.6.2/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23) at Console._write (/home/yu/.nvm/versions/node/v21.6.2/lib/node_modules/firebase-tools/node_modules/winston-transport/modern.js:103:17) at doWrite (/home/yu/.nvm/versions/node/v21.6.2/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139) [error] [error] Error: An unexpected error has occurred. [debug] [2024-08-04T03:29:23.636Z] Error: write EIO at afterWriteDispatched (node:internal/stream_base_commons:160:15) at writeGeneric (node:internal/stream_base_commons:151:3) at Socket._writeGeneric (node:net:952:11) at Socket._write (node:net:964:8) at writeOrBuffer (node:internal/streams/writable:564:12) at _write (node:internal/streams/writable:493:10) at Writable.write (node:internal/streams/writable:502:10) at Console.log (/home/yu/.nvm/versions/node/v21.6.2/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23) at Console._write (/home/yu/.nvm/versions/node/v21.6.2/lib/node_modules/firebase-tools/node_modules/winston-transport/modern.js:103:17) at doWrite (/home/yu/.nvm/versions/node/v21.6.2/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139) [error] [error] Error: An unexpected error has occurred. [debug] [2024-08-04T07:32:09.820Z] ---------------------------------------------------------------------- [debug] [2024-08-04T07:32:09.824Z] Command: /home/yu/.nvm/versions/node/v21.6.2/bin/node /home/yu/.nvm/versions/node/v21.6.2/bin/firebase init [debug] [2024-08-04T07:32:09.824Z] CLI Version: 13.5.2 [debug] [2024-08-04T07:32:09.825Z] Platform: linux [debug] [2024-08-04T07:32:09.825Z] Node Version: v21.6.2 [debug] [2024-08-04T07:32:09.825Z] Time: Sun Aug 04 2024 16:32:09 GMT+0900 (日本標準時) [debug] [2024-08-04T07:32:09.825Z] ---------------------------------------------------------------------- [debug] [debug] [2024-08-04T07:32:09.833Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"] [debug] [2024-08-04T07:32:09.834Z] > authorizing via signed-in user (takitakiyuchi@gmail.com) [info] ######## #### ######## ######## ######## ### ###### ######## ## ## ## ## ## ## ## ## ## ## ## ###### ## ######## ###### ######## ######### ###### ###### ## ## ## ## ## ## ## ## ## ## ## ## #### ## ## ######## ######## ## ## ###### ######## You're about to initialize a Firebase project in this directory: /home/yu/projects/study/react/240718_react-practice/240718_practice [debug] [2024-08-06T02:09:20.315Z] Error: setRawMode EIO at ReadStream.setRawMode (node:tty:77:24) at [_setRawMode] [as _setRawMode] (node:internal/readline/interface:374:18) at Interface.close (node:internal/readline/interface:524:24) at ReadStream.ontermend (node:internal/readline/interface:260:10) at ReadStream.emit (node:events:531:35) at ReadStream.emit (node:domain:488:12) at endReadableNT (node:internal/streams/readable:1696:12) at process.processTicksAndRejections (node:internal/process/task_queues:82:21) [error] [error] Error: An unexpected error has occurred. [debug] [2024-08-06T02:09:20.459Z] Error: write EIO at afterWriteDispatched (node:internal/stream_base_commons:160:15) at writeGeneric (node:internal/stream_base_commons:151:3) at Socket._writeGeneric (node:net:952:11) at Socket._write (node:net:964:8) at writeOrBuffer (node:internal/streams/writable:564:12) at _write (node:internal/streams/writable:493:10) at Writable.write (node:internal/streams/writable:502:10) at Console.log (/home/yu/.nvm/versions/node/v21.6.2/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23) at Console._write (/home/yu/.nvm/versions/node/v21.6.2/lib/node_modules/firebase-tools/node_modules/winston-transport/modern.js:103:17) at doWrite (/home/yu/.nvm/versions/node/v21.6.2/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139) [error] [error] Error: An unexpected error has occurred. [debug] [2024-08-06T02:09:20.471Z] Error: write EIO at afterWriteDispatched (node:internal/stream_base_commons:160:15) at writeGeneric (node:internal/stream_base_commons:151:3) at Socket._writeGeneric (node:net:952:11) at Socket._write (node:net:964:8) at writeOrBuffer (node:internal/streams/writable:564:12) at _write (node:internal/streams/writable:493:10) at Writable.write (node:internal/streams/writable:502:10) at Console.log (/home/yu/.nvm/versions/node/v21.6.2/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23) at Console._write (/home/yu/.nvm/versions/node/v21.6.2/lib/node_modules/firebase-tools/node_modules/winston-transport/modern.js:103:17) at doWrite (/home/yu/.nvm/versions/node/v21.6.2/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139) [error] [error] Error: An unexpected error has occurred. [debug] [2024-08-06T02:09:20.479Z] Error: write EIO at afterWriteDispatched (node:internal/stream_base_commons:160:15) at writeGeneric (node:internal/stream_base_commons:151:3) at Socket._writeGeneric (node:net:952:11) at Socket._write (node:net:964:8) at writeOrBuffer (node:internal/streams/writable:564:12) at _write (node:internal/streams/writable:493:10) at Writable.write (node:internal/streams/writable:502:10) at Console.log (/home/yu/.nvm/versions/node/v21.6.2/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23) at Console._write (/home/yu/.nvm/versions/node/v21.6.2/lib/node_modules/firebase-tools/node_modules/winston-transport/modern.js:103:17) at doWrite (/home/yu/.nvm/versions/node/v21.6.2/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139) [error] [error] Error: An unexpected error has occurred. [debug] [2024-08-06T02:09:20.488Z] Error: write EIO at afterWriteDispatched (node:internal/stream_base_commons:160:15) at writeGeneric (node:internal/stream_base_commons:151:3) at Socket._writeGeneric (node:net:952:11) at Socket._write (node:net:964:8) at writeOrBuffer (node:internal/streams/writable:564:12) at _write (node:internal/streams/writable:493:10) at Writable.write (node:internal/streams/writable:502:10) at Console.log (/home/yu/.nvm/versions/node/v21.6.2/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23) at Console._write (/home/yu/.nvm/versions/node/v21.6.2/lib/node_modules/firebase-tools/node_modules/winston-transport/modern.js:103:17) at doWrite (/home/yu/.nvm/versions/node/v21.6.2/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139) [error] [error] Error: An unexpected error has occurred. [debug] [2024-08-06T02:09:20.491Z] Error: write EIO at afterWriteDispatched (node:internal/stream_base_commons:160:15) at writeGeneric (node:internal/stream_base_commons:151:3) at Socket._writeGeneric (node:net:952:11) at Socket._write (node:net:964:8) at writeOrBuffer (node:internal/streams/writable:564:12) at _write (node:internal/streams/writable:493:10) at Writable.write (node:internal/streams/writable:502:10) at Console.log (/home/yu/.nvm/versions/node/v21.6.2/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23) at Console._write (/home/yu/.nvm/versions/node/v21.6.2/lib/node_modules/firebase-tools/node_modules/winston-transport/modern.js:103:17) at doWrite (/home/yu/.nvm/versions/node/v21.6.2/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139) [error] [error] Error: An unexpected error has occurred. [debug] [2024-08-06T02:09:20.502Z] Error: write EIO at afterWriteDispatched (node:internal/stream_base_commons:160:15) at writeGeneric (node:internal/stream_base_commons:151:3) at Socket._writeGeneric (node:net:952:11) at Socket._write (node:net:964:8) at writeOrBuffer (node:internal/streams/writable:564:12) at _write (node:internal/streams/writable:493:10) at Writable.write (node:internal/streams/writable:502:10) at Console.log (/home/yu/.nvm/versions/node/v21.6.2/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23) at Console._write (/home/yu/.nvm/versions/node/v21.6.2/lib/node_modules/firebase-tools/node_modules/winston-transport/modern.js:103:17) at doWrite (/home/yu/.nvm/versions/node/v21.6.2/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139) [error] [error] Error: An unexpected error has occurred. [debug] [2024-08-06T02:09:20.506Z] Error: write EIO at afterWriteDispatched (node:internal/stream_base_commons:160:15) at writeGeneric (node:internal/stream_base_commons:151:3) at Socket._writeGeneric (node:net:952:11) at Socket._write (node:net:964:8) at writeOrBuffer (node:internal/streams/writable:564:12) at _write (node:internal/streams/writable:493:10) at Writable.write (node:internal/streams/writable:502:10) at Console.log (/home/yu/.nvm/versions/node/v21.6.2/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23) at Console._write (/home/yu/.nvm/versions/node/v21.6.2/lib/node_modules/firebase-tools/node_modules/winston-transport/modern.js:103:17) at doWrite (/home/yu/.nvm/versions/node/v21.6.2/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139) [error] [error] Error: An unexpected error has occurred. [debug] [2024-08-06T02:20:33.625Z] ---------------------------------------------------------------------- [debug] [2024-08-06T02:20:33.628Z] Command: /home/yu/.nvm/versions/node/v21.6.2/bin/node /home/yu/.nvm/versions/node/v21.6.2/bin/firebase init [debug] [2024-08-06T02:20:33.628Z] CLI Version: 13.5.2 [debug] [2024-08-06T02:20:33.629Z] Platform: linux [debug] [2024-08-06T02:20:33.629Z] Node Version: v21.6.2 [debug] [2024-08-06T02:20:33.629Z] Time: Tue Aug 06 2024 11:20:33 GMT+0900 (日本標準時) [debug] [2024-08-06T02:20:33.629Z] ---------------------------------------------------------------------- [debug] [debug] [2024-08-06T02:20:33.633Z] >>> [apiv2][query] GET https://firebase-public.firebaseio.com/cli.json [none] [debug] [2024-08-06T02:20:33.686Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"] [debug] [2024-08-06T02:20:33.686Z] > authorizing via signed-in user (takitakiyuchi@gmail.com) [info] ######## #### ######## ######## ######## ### ###### ######## ## ## ## ## ## ## ## ## ## ## ## ###### ## ######## ###### ######## ######### ###### ###### ## ## ## ## ## ## ## ## ## ## ## ## #### ## ## ######## ######## ## ## ###### ######## You're about to initialize a Firebase project in this directory: /home/yu/projects/study/react/240718_react-practice/240718_practice [debug] [2024-08-06T02:20:34.168Z] <<< [apiv2][status] GET https://firebase-public.firebaseio.com/cli.json 200 [debug] [2024-08-06T02:20:34.168Z] <<< [apiv2][body] GET https://firebase-public.firebaseio.com/cli.json {"cloudBuildErrorAfter":1594252800000,"cloudBuildWarnAfter":1590019200000,"defaultNode10After":1594252800000,"minVersion":"3.0.5","node8DeploysDisabledAfter":1613390400000,"node8RuntimeDisabledAfter":1615809600000,"node8WarnAfter":1600128000000}
```

# README.md

```md
# Getting Started with Create React App This project was bootstrapped with [Create React App](https://github.com/facebook/create-react-app). ## Available Scripts In the project directory, you can run: ### `npm start` Runs the app in the development mode.\ Open [http://localhost:3000](http://localhost:3000) to view it in the browser. The page will reload if you make edits.\ You will also see any lint errors in the console. ### `npm test` Launches the test runner in the interactive watch mode.\ See the section about [running tests](https://facebook.github.io/create-react-app/docs/running-tests) for more information. ### `npm run build` Builds the app for production to the `build` folder.\ It correctly bundles React in production mode and optimizes the build for the best performance. The build is minified and the filenames include the hashes.\ Your app is ready to be deployed! See the section about [deployment](https://facebook.github.io/create-react-app/docs/deployment) for more information. ### `npm run eject` **Note: this is a one-way operation. Once you `eject`, you can’t go back!** If you aren’t satisfied with the build tool and configuration choices, you can `eject` at any time. This command will remove the single build dependency from your project. Instead, it will copy all the configuration files and the transitive dependencies (webpack, Babel, ESLint, etc) right into your project so you have full control over them. All of the commands except `eject` will still work, but they will point to the copied scripts so you can tweak them. At this point you’re on your own. You don’t have to ever use `eject`. The curated feature set is suitable for small and middle deployments, and you shouldn’t feel obligated to use this feature. However we understand that this tool wouldn’t be useful if you couldn’t customize it when you are ready for it. ## Learn More You can learn more in the [Create React App documentation](https://facebook.github.io/create-react-app/docs/getting-started). To learn React, check out the [React documentation](https://reactjs.org/).
```

# .gitignore

```
# See https://help.github.com/articles/ignoring-files/ for more about ignoring files. # dependencies /node_modules /.pnp .pnp.js # testing /coverage # production /build # misc .DS_Store .env.local .env.development.local .env.test.local .env.production.local npm-debug.log* yarn-debug.log* yarn-error.log*
```

# src/react-app-env.d.ts

```ts
/// <reference types="react-scripts" />
```

# src/index.tsx

```tsx
import React from 'react'; import ReactDOM from 'react-dom/client'; import './index.css'; import App from './App'; const root = ReactDOM.createRoot( document.getElementById('root') as HTMLElement ); root.render( <React.StrictMode> <App /> </React.StrictMode> );
```

# src/index.css

```css
body { margin: 0; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif; -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale; } code { font-family: source-code-pro, Menlo, Monaco, Consolas, 'Courier New', monospace; }
```

# src/firebase.ts

```ts
// Import the functions you need from the SDKs you need import { initializeApp } from "firebase/app"; import { getFirestore } from "firebase/firestore" // TODO: Add SDKs for Firebase products that you want to use // https://firebase.google.com/docs/web/setup#available-libraries // Your web app's Firebase configuration const firebaseConfig = { apiKey: "AIzaSyDHlOpOlbufXBHiiKBLJ0g4v-YZcn8TkAY", authDomain: "householdtypescript-9a43b.firebaseapp.com", projectId: "householdtypescript-9a43b", storageBucket: "householdtypescript-9a43b.appspot.com", messagingSenderId: "631067144029", appId: "1:631067144029:web:503ba7b674fc27dd98c2b4" }; // Initialize Firebase const app = initializeApp(firebaseConfig); const db = getFirestore(app); export { db };
```

# src/App.tsx

```tsx
import React, { useEffect, useState } from 'react'; import './App.css'; import { Route, BrowserRouter as Router, Routes } from 'react-router-dom'; import HOME from './pages/Home'; import Report from './pages/Report'; import NoMatch from './pages/NoMatch'; import AppLayout from './components/layout/AppLayout'; import { theme } from './theme/theme'; import { ThemeProvider } from '@emotion/react'; import CssBaseline from '@mui/material/CssBaseline'; import { Transaction } from './types/index'; import { collection, getDocs } from "firebase/firestore"; import { db } from "./firebase"; import { format } from 'date-fns'; // import { formatMonth } from './utils/formatting'; function App() { // Firebaseエラーかどうかを判定する型ガード function isFireStoreError(err: unknown):err is {code: string, message: string} { return typeof err === "object" && err !== null && "code" in err } const [transactions, setTransactions] = useState<Transaction[]>([]); const [currentMonth, setCurrentMonth] = useState(new Date()); console.log(currentMonth); const a = format(currentMonth, "yyyy-MM"); console.log(a); useEffect(() => { const fetchTransactions = async () => { try { const querySnapshot = await getDocs(collection(db, "Transactions")); const transactionsData = querySnapshot.docs.map((doc) => ({ ...doc.data(), id: doc.id, }) as Transaction ); setTransactions(transactionsData) console.log(transactionsData) } catch (err) { if (isFireStoreError(err)) { console.error("Firestoreのエラー:",err); } else { console.error("データ取得時の一般的なエラー:",err); } } }; fetchTransactions(); },[]); const monthlyTransactions = transactions.filter((transaction) => { return transaction.date.startsWith(format(currentMonth, "yyyy-MM")) }) console.log(monthlyTransactions); return ( <ThemeProvider theme={theme}> <CssBaseline /> <Router> <Routes> <Route path="/" element={<AppLayout />}> <Route index element={<HOME monthlyTransactions={monthlyTransactions} />} /> <Route path="/report" element={<Report />} /> <Route path="*" element={<NoMatch />} /> </Route> </Routes> </Router> </ThemeProvider> ); } export default App; function isFireStoreError(err: unknown): err is { code: string, message: string } { return typeof err === "object" && err !== null && "code" in err; }
```

# src/App.css

```css
.App { text-align: center; } .App-logo { height: 40vmin; pointer-events: none; } @media (prefers-reduced-motion: no-preference) { .App-logo { animation: App-logo-spin infinite 20s linear; } } .App-header { background-color: #282c34; min-height: 100vh; display: flex; flex-direction: column; align-items: center; justify-content: center; font-size: calc(10px + 2vmin); color: white; } .App-link { color: #61dafb; } @keyframes App-logo-spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
```

# public/robots.txt

```txt
# https://www.robotstxt.org/robotstxt.html User-agent: * Disallow:
```

# public/manifest.json

```json
{ "short_name": "React App", "name": "Create React App Sample", "icons": [ { "src": "favicon.ico", "sizes": "64x64 32x32 24x24 16x16", "type": "image/x-icon" }, { "src": "logo192.png", "type": "image/png", "sizes": "192x192" }, { "src": "logo512.png", "type": "image/png", "sizes": "512x512" } ], "start_url": ".", "display": "standalone", "theme_color": "#000000", "background_color": "#ffffff" }
```

# public/logo512.png

This is a binary file of the type: Image

# public/logo192.png

This is a binary file of the type: Image

# public/index.html

```html
<!DOCTYPE html> <html lang="en"> <head> <meta charset="utf-8" /> <link rel="icon" href="%PUBLIC_URL%/favicon.ico" /> <meta name="viewport" content="width=device-width, initial-scale=1" /> <meta name="theme-color" content="#000000" /> <meta name="description" content="Web site created using create-react-app" /> <link rel="apple-touch-icon" href="%PUBLIC_URL%/logo192.png" /> <!-- manifest.json provides metadata used when your web app is installed on a user's mobile device or desktop. See https://developers.google.com/web/fundamentals/web-app-manifest/ --> <link rel="manifest" href="%PUBLIC_URL%/manifest.json" /> <link rel="preconnect" href="https://fonts.googleapis.com"> <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin> <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP&display=swap" rel="stylesheet"> <!-- Notice the use of %PUBLIC_URL% in the tags above. It will be replaced with the URL of the `public` folder during the build. Only files inside the `public` folder can be referenced from the HTML. Unlike "/favicon.ico" or "favicon.ico", "%PUBLIC_URL%/favicon.ico" will work correctly both with client-side routing and a non-root public URL. Learn how to configure a non-root public URL by running `npm run build`. --> <title>React App</title> </head> <body> <noscript>You need to enable JavaScript to run this app.</noscript> <div id="root"></div> <!-- This HTML file is a template. If you open it directly in the browser, you will see an empty page. You can add webfonts, meta tags, or analytics to this file. The build step will place the bundled scripts into the <body> tag. To begin the development, run `npm start` or `yarn start`. To create a production bundle, use `npm run build` or `yarn build`. --> </body> </html>
```

# public/favicon.ico

This is a binary file of the type: Binary

# src/utils/formatting.ts

```ts
import { format } from "date-fns"; export function formatMonth(date: Date):string { return format(date, "yyyy-MM"); }
```

# src/types/index.ts

```ts
export type TransactionType = "income" | "expense"; export type IncomeCategory = "給与" | "副収入" | "お小遣い"; export type ExpenseCategory = "食費" | "日用品" | "住居費" | "交際費" | "娯楽"| "交通費"; export interface Transaction { id: string, date: string, amount: number, content: string, type: TransactionType, category: IncomeCategory | ExpenseCategory; }
```

# src/theme/theme.ts

```ts
import { createTheme, PaletteColor, PaletteColorOptions } from "@mui/material"; import { blue, green, red } from "@mui/material/colors"; declare module "@mui/material/styles" { interface Palette { incomeColor: PaletteColor; expenseColor: PaletteColor; balanceColor: PaletteColor; } interface PaletteOptions { incomeColor: PaletteColorOptions; expenseColor: PaletteColorOptions; balanceColor: PaletteColorOptions; } } export const theme = createTheme({ typography: { fontFamily: 'Noto Sans JP, Roboto, "Helvetica Neue", Arial, sans-serif' }, palette: { // 収入用の色を定義 incomeColor: { main: blue[500], light:blue[100], dark:blue[700] }, // 支出用の色を定義 expenseColor: { main: red[500], light:red[100], dark:red[700] }, // 残高用の色を定義 balanceColor: { main: green[500], light:green[100], dark:green[700] } } })
```

# src/pages/Report.tsx

```tsx
import React from 'react' const Report = () => { return ( <div>Report</div> ) } export default Report
```

# src/pages/NoMatch.tsx

```tsx
import React from 'react' const NoMatch = () => { return ( <div>このページはありません</div> ) } export default NoMatch
```

# src/pages/Home.tsx

```tsx
import { Box } from '@mui/material' import React from 'react' import MonthlySummary from '../components/MonthlySummary' import Calendar from '../components/Calendar' import TransactionMenu from '../components/TransactionMenu' import TransactionForm from '../components/TransactionForm' import { Transaction } from '../types' interface HomeProps { monthlyTransactions: Transaction[], } const Home = ({ monthlyTransactions }: HomeProps) => { return ( <Box sx={{ display: "flex" }}> {/* 左側コンテンツ */} <Box sx={{ flexGrow: 1 }}> {/* MonthlySummaryコンポーネントにmonthlyTransactionsを渡す */} <MonthlySummary monthlyTransactions={monthlyTransactions} /> <Calendar /> </Box> {/* 右側コンテンツ */} <Box> <TransactionMenu /> <TransactionForm /> </Box> </Box> ) } export default Home
```

# src/components/TransactionMenu.tsx

```tsx
import React from 'react' const TransactionMenu = () => { return ( <div>TransactionMenu</div> ) } export default TransactionMenu
```

# src/components/TransactionForm.tsx

```tsx
import React from 'react' const TransactionForm = () => { return ( <div>TransactionForm</div> ) } export default TransactionForm
```

# src/components/MonthlySummary.tsx

```tsx
import { Card, CardContent, Grid, Stack, Typography } from '@mui/material' import React from 'react' import ArrowUpwardIcon from '@mui/icons-material/ArrowUpward'; import ArrowDownwardIcon from '@mui/icons-material/ArrowDownward'; import AccountBalanceIcon from '@mui/icons-material/AccountBalance'; import { Transaction } from '../types'; interface MonthlySummaryProps { monthlyTransactions: Transaction[], } const MonthlySummary = ({monthlyTransactions}: MonthlySummaryProps) => { return ( <Grid container spacing={{ xs: 1, sm: 2, md: 3, lg: 4 }}> {/* 収入 */} <Grid item xs={4} md={4} display={"flex"} flexDirection={"column"}> <Card sx={{ bgcolor: (theme) => theme.palette.incomeColor.main, color: "white", borderRadius: "10px", flexGrow: 1, }} > <CardContent sx={{ padding: { xs: 1, sm: 2 }}}> <Stack direction={"row"}> <ArrowDownwardIcon sx={{ fontSize: "2rem" }}/> <Typography>収入</Typography> </Stack> <Typography textAlign={"right"} variant="h5" sx={{ wordBreak: "break-word", fontSize: { xs: ".8rem", sm: "1rem", md: "1.2rem" } }} > ¥300</Typography> </CardContent> </Card> </Grid> {/* 支出 */} <Grid item xs={4} md={4} display={"flex"} flexDirection={"column"}> <Card sx={{ bgcolor: (theme) => theme.palette.expenseColor.main, color: "white", borderRadius: "10px", flexGrow: 1, }} > <CardContent sx={{padding: {xs: 1, sm: 2}}}> <Stack direction={"row"}> <ArrowUpwardIcon sx={{ fontSize: "2rem" }}/> <Typography>支出</Typography> </Stack> <Typography textAlign={"right"} variant="h5" sx={{ wordBreak: "break-word", fontSize: { xs: ".8rem", sm: "1rem", md: "1.2rem" } }} > ¥300</Typography> </CardContent> </Card> </Grid> {/* 残高 */} <Grid item xs={4} md={4} display={"flex"} flexDirection={"column"}> <Card sx={{ bgcolor: (theme) => theme.palette.balanceColor.main, color: "white", borderRadius: "10px", flexGrow: 1, }} > <CardContent sx={{ padding: { xs: 1, sm: 2 }}}> <Stack direction={"row"}> <AccountBalanceIcon sx={{ fontSize: "2rem" }} /> <Typography>残高</Typography> </Stack> <Typography textAlign={"right"} variant="h5" sx={{ wordBreak: "break-word", fontSize: { xs: ".8rem", sm: "1rem", md: "1.2rem" } }} > ¥300</Typography> </CardContent> </Card> </Grid> </Grid> ) } export default MonthlySummary
```

# src/components/Calendar.tsx

```tsx
import React from 'react' const Calendar = () => { return ( <div>Calendar</div> ) } export default Calendar
```

# src/components/layout/AppLayout.tsx

```tsx
import * as React from 'react'; import AppBar from '@mui/material/AppBar'; import Box from '@mui/material/Box'; import CssBaseline from '@mui/material/CssBaseline'; import Divider from '@mui/material/Divider'; import Drawer from '@mui/material/Drawer'; import IconButton from '@mui/material/IconButton'; import List from '@mui/material/List'; import ListItem from '@mui/material/ListItem'; import ListItemButton from '@mui/material/ListItemButton'; import ListItemIcon from '@mui/material/ListItemIcon'; import ListItemText from '@mui/material/ListItemText'; import MenuIcon from '@mui/icons-material/Menu'; import Toolbar from '@mui/material/Toolbar'; import Typography from '@mui/material/Typography'; import { Outlet } from 'react-router-dom'; import SideBar from '../common/SideBar' const drawerWidth = 240; export default function AppLayout() { const [mobileOpen, setMobileOpen] = React.useState(false); const [isClosing, setIsClosing] = React.useState(false); const handleDrawerClose = () => { setIsClosing(true); setMobileOpen(false); }; const handleDrawerTransitionEnd = () => { setIsClosing(false); }; const handleDrawerToggle = () => { if (!isClosing) { setMobileOpen(!mobileOpen); } }; return ( <Box sx={{ display: 'flex', bgcolor: (theme) =>theme.palette.grey[100], minHeight: "100vh"}}> <CssBaseline /> {/* {ヘッダー} */} <AppBar position="fixed" sx={{ width: { md: `calc(100% - ${drawerWidth}px)` }, ml: { md: `${drawerWidth}px` }, }} > <Toolbar> <IconButton color="inherit" aria-label="open drawer" edge="start" onClick={handleDrawerToggle} sx={{ mr: 2, display: { md: 'none' } }} > <MenuIcon /> </IconButton> <Typography variant="h6" noWrap component="div"> TypeScript × React 家計簿 </Typography> </Toolbar> </AppBar> {/* サイドバー */} <SideBar drawerWidth={drawerWidth} mobileOpen={mobileOpen} handleDrawerToggle={handleDrawerToggle} /> {/* メインコンテンツ */} <Box component="main" sx={{ flexGrow: 1, p: 3, width: { md: `calc(100% - ${drawerWidth}px)` } }} > <Toolbar /> <Outlet /> </Box> </Box> ); }
```

# src/components/common/SideBar.tsx

```tsx
import { Box, Divider, Drawer, List, ListItem, ListItemButton, ListItemIcon, ListItemText, Toolbar } from '@mui/material' import React, { CSSProperties } from 'react' import InboxIcon from '@mui/icons-material/MoveToInbox'; import MailIcon from '@mui/icons-material/Mail'; import OtherHousesIcon from '@mui/icons-material/OtherHouses'; import BarChartIcon from '@mui/icons-material/BarChart'; import { NavLink } from 'react-router-dom'; interface SidebarProps { drawerWidth: number, mobileOpen: boolean, handleDrawerToggle: () => void, } interface menuItem { text:string, path:string, icon:React.ComponentType, } const SideBar = ({drawerWidth,mobileOpen,handleDrawerToggle}:SidebarProps) => { const MenuItems:menuItem[] = [ {text: "Home", path: "/", icon: OtherHousesIcon}, {text: "Report", path: "report", icon: BarChartIcon} ] const baseLinkStyle :CSSProperties = { textDecoration: "none", color: "inherit", display: "block" } const activeLinkStyle :CSSProperties = { backgroundColor: "rgba(0, 0, 0, 0.08)" } const drawer = ( <div> <Toolbar /> <Divider /> <List> {MenuItems.map((item, index) => ( <NavLink key={index} to={item.path} style={({isActive}) => { console.log("選択されたメニューは", item.text, isActive) return{ ...baseLinkStyle, ...(isActive ? activeLinkStyle: {}) } }}> <ListItem key={index} disablePadding> <ListItemButton> <ListItemIcon> {/* {index % 2 === 0 ? <InboxIcon /> : <MailIcon />} */} <item.icon /> </ListItemIcon> <ListItemText primary={item.text} /> </ListItemButton> </ListItem> </NavLink> ))} </List> </div> ); return ( <Box component="nav" sx={{ width: { md: drawerWidth }, flexShrink: { md: 0 } }} aria-label="mailbox folders" > {/* モバイル用 */} <Drawer variant="temporary" open={mobileOpen} onClose={handleDrawerToggle} ModalProps={{ keepMounted: true, // Better open performance on mobile. }} sx={{ display: { xs: 'block', md: 'none' }, '& .MuiDrawer-paper': { boxSizing: 'border-box', width: drawerWidth }, }} > {drawer} </Drawer> {/* PC用 */} <Drawer variant="permanent" sx={{ display: { xs: 'none', md: 'block' }, '& .MuiDrawer-paper': { boxSizing: 'border-box', width: drawerWidth }, }} open > {drawer} </Drawer> </Box> ) } export default SideBar
```

